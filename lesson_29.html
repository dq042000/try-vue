<!DOCTYPE html>
<html lang="zh-Hant-TW">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>lesson 29 開發實現 Vue 中的自定義指令</title>
        <script src="https://unpkg.com/vue@3"></script>
        <style></style>
    </head>
    <body>
        <div id="root"></div>
    </body>
    <script>
        // 局部指令
        // const directives = {
        //     focus: {
        //         mounted(el) {
        //             el.focus();
        //         },
        //     },
        // };

        // 自定義指令 directive
        const app = Vue.createApp({
            // directives, // 局部指令
            data() {
                return {
                    hello: true,
                };
            },
            template: `
                <div>
                    <div v-if="hello">
                    <input v-focus />
                    </div>
                </div>
            `,
        });

        // 全域指令
        // 自定義一個叫 focus 指令，v-focus 來使用
        app.directive("focus", {
            beforeMount() {
                console.log("beforeMount");
            },
            mounted(el) {
                console.log("mounted");
                el.focus();
            },
            beforeUpdate() {
                console.log("beforeUpdate");
            },
            updated() {
                console.log("updated");
            },
            beforeUnmount() {
                console.log("beforeUnmount");
            },
            unmounted() {
                console.log("unmounted");
            },
        });

        const vm = app.mount("#root");
    </script>
</html>
