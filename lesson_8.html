<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>lesson 8</title>
        <script src="https://unpkg.com/vue@3"></script>
    </head>
    <body>
        <div id="root"></div>
    </body>
    <script>
        // data & methods & computed & watcher
        // computed 和 methods 都能實現的功能，建議使用 computed, 因為有緩存
        // computed 和 watcher 都能實現的功能，建議使用 computed, 因為更加簡潔
        const app = Vue.createApp({
            data() {
                return {
                    message: "hello world",
                    count: 2,
                    price: 5,
                    newTotal: 10,
                };
            },
            watch: {
                // price 發生變化時，函數會執行
                price(current, prev) {
                    this.newTotal = current * this.count;
                },
            },
            // 當計算屬性依賴的內容發生變更時，才會重新執行計算
            computed: {
                total() {
                    return Date.now();
                },
            },
            // 只要頁面重新渲染，才會重新計算
            methods: {
                handleClick() {
                    console.log("click", this.message);
                },
                formString(string) {
                    return string.toUpperCase();
                },
                getTotal() {
                    return Date.now();
                },
            },
            template: `
                <div @click="handleClick">{{formString(message)}}</div>
                <div>{{total}}</div>
                <div>{{message}} {{newTotal}}</div>
            `,
        });
        const vm = app.mount("#root");
    </script>
</html>
